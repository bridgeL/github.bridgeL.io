(function(t){function e(e){for(var i,s,l=e[0],a=e[1],f=e[2],u=0,h=[];u<l.length;u++)s=l[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&h.push(o[s][0]),o[s]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);c&&c(e);while(h.length)h.shift()();return r.push.apply(r,f||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,l=1;l<n.length;l++){var a=n[l];0!==o[a]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},o={app:0},r=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],a=l.push.bind(l);l.push=e,l=l.slice();for(var f=0;f<l.length;f++)e(l[f]);var c=a;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"06fd":function(t,e,n){},"0b4a":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("BottleGame")],1)},r=[],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("div",{staticClass:"game-area"},[i("div",{staticClass:"container"},t._l(t.bottleArr,(function(e,n){return i("Bottle",{key:n,attrs:{pour:t.pour,bottle:e}})})),1),i("div",[i("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),i("p",[t._v("当前倒水次数"+t._s(t.cnt))]),i("button",{on:{click:function(e){return e.stopPropagation(),t.restart.apply(null,arguments)}}},[t._v("点我重玩")]),i("h1",[t._v(t._s(t.msg))])])])])},l=[],a=(n("d3b7"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"area",style:{height:t.size.height+"px",width:t.size.width+"px"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.bottle.show,expression:"bottle.show"}],staticClass:"bottle",style:{left:t.offset.x+"px",top:t.offset.y+"px",zIndex:t.zIndex},on:{touchstart:function(e){return e.stopPropagation(),t.down.apply(null,arguments)},touchmove:function(e){return e.stopPropagation(),t.move.apply(null,arguments)},touchend:function(e){return e.stopPropagation(),t.end.apply(null,arguments)}}},t._l(t.bottle.wines,(function(t,e){return n("div",{key:e,staticClass:"wine",style:{backgroundColor:t}})})),0)])}),f=[],c=(n("5377"),{name:"Bottle",props:["bottle","pour"],data:function(){return{flags:!1,zIndex:10,offset:{x:0,y:0,minx:0,maxx:0,miny:0,maxy:0},size:{height:100,width:40},origin:{x:0,y:0},client:{x:0,y:0,originx:0,originy:0}}},mounted:function(){this.origin.x=this.$el.offsetLeft,this.origin.y=this.$el.offsetTop,this.offset.minx=0-this.origin.x,this.offset.miny=0-this.origin.y,this.offset.maxx=window.screen.width-this.size.width-this.origin.x,this.offset.maxy=window.screen.height-this.size.height-this.origin.y},methods:{down:function(t){t.preventDefault(),this.flags=!0;var e=t.touches[0];this.client.originx=e.clientX,this.client.originy=e.clientY,this.zIndex=990},move:function(t){if(t.preventDefault(),this.flags){var e=t.touches[0];this.client.x=e.clientX,this.client.y=e.clientY;var n=this.client.x-this.client.originx,i=this.client.y-this.client.originy;n=Math.max(n,this.offset.minx),n=Math.min(n,this.offset.maxx),i=Math.max(i,this.offset.miny),i=Math.min(i,this.offset.maxy),this.offset.x=n,this.offset.y=i}},end:function(){console.log("end"),this.flags=!1,this.pour({x:this.client.x,y:this.client.y},this.bottle.id),this.offset.x=0,this.offset.y=0,this.zIndex=10}}}),u=c,h=(n("69e7"),n("2877")),p=Object(h["a"])(u,a,f,!1,null,"c71b45fa",null),d=p.exports,g=n("e1bd"),y={name:"BottleGame",components:{Bottle:d},data:function(){return{msg:"",cnt:0,bottleArr:[],bottleFloat:{id:"",show:!1,wines:[]}}},created:function(){for(var t=0;t<14;t++){var e={id:Object(g["a"])(),show:!0,wines:[]};this.bottleArr.push(e)}this.load()},methods:{pour:function(t,e){var n,i,o;(console.log("pour"),console.log(t,e),this.$children.forEach((function(i){t.x>i.origin.x&&t.x<i.origin.x+i.size.width&&t.y>i.origin.y&&t.y<i.origin.y+i.size.height&&(console.log(i.bottle.id),i.bottle.id!=e&&(n=i.bottle.id))})),n)&&(this.bottleArr.forEach((function(t){t.id==n&&(o=t),t.id==e&&(i=t)})),i.wines&&o.wines.length<4&&(console.log("ok"),o.wines.unshift(i.wines.shift()),console.log(o.wines,i.wines)));this.isWin()&&(this.msg="恭喜通关（乐）")},load:function(){var t=["blue","gray","red","purple","pink","olive","green","orange","yellow","lightblue","navy","greenyellow"],e=[];t.forEach((function(t){for(var n=0;n<4;n++)e.push(t)})),console.log(e),this.shuffleSelf(e),this.bottleArr.forEach((function(t,n){if(t.wines=[],n<12)for(var i=0;i<4;i++)t.wines.push(e[4*n+i])}))},shuffleSelf:function(t){var e=-1,n=t.length;while(++e<n){var i=e+Math.floor(Math.random()*(n-e)),o=t[i];t[i]=t[e],t[e]=o}return t},isWin:function(){var t=1;return this.bottleArr.some((function(e){if(0!=e.wines.length&&4!=e.wines.length)return t=0,!0;if(e.wines){var n=e.wines[0];if(e.wines.forEach((function(e){e!=n&&(t=0)})),!t)return!0}})),t},restart:function(){this.cnt=0,this.msg="",this.load()}}},v=y,x=(n("e874"),Object(h["a"])(v,s,l,!1,null,"1f0fe3e0",null)),m=x.exports,b={name:"App",components:{BottleGame:m},data:function(){return{}},methods:{}},w=b,_=(n("034f"),Object(h["a"])(w,o,r,!1,null,null,null)),O=_.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(O)}}).$mount("#app")},"69e7":function(t,e,n){"use strict";n("0b4a")},"85ec":function(t,e,n){},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},e874:function(t,e,n){"use strict";n("06fd")}});
//# sourceMappingURL=app.6c395c9f.js.map