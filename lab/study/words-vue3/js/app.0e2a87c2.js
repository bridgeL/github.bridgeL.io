(function(){"use strict";var e={3520:function(e,t,o){var r=o(311);const n={id:"app"},l={class:"main"},a=(0,r.createTextVNode)(" 张单词卡片 "),c=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},[(0,r.createElementVNode)("g",{fill:"none"},[(0,r.createElementVNode)("path",{d:"M6 2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h9.5a.5.5 0 0 0 0-1H6a1 1 0 0 1-1-1h10a1 1 0 0 0 1-1V4a2 2 0 0 0-2-2H6zm4 3c.2 0 .38.12.46.303l3 7a.5.5 0 0 1-.92.394L11.813 11H8.187l-.727 1.697a.5.5 0 0 1-.92-.394l3-7A.5.5 0 0 1 10 5zm-1.385 5h2.77L10 6.77L8.615 10z",fill:"currentColor"})])],-1),s=(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{d:"M20 5h-9.12L10 2H4c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h7l1 3h8c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM7.17 14.59c-2.25 0-4.09-1.83-4.09-4.09s1.83-4.09 4.09-4.09c1.04 0 1.99.37 2.74 1.07l.07.06l-1.23 1.18l-.06-.05c-.29-.27-.78-.59-1.52-.59c-1.31 0-2.38 1.09-2.38 2.42s1.07 2.42 2.38 2.42c1.37 0 1.96-.87 2.12-1.46H7.08V9.91h3.95l.01.07c.04.21.05.4.05.61c0 2.35-1.61 4-3.92 4zm6.03-1.71c.33.6.74 1.18 1.19 1.7l-.54.53l-.65-2.23zm.77-.76h-.99l-.31-1.04h3.99s-.34 1.31-1.56 2.74c-.52-.62-.89-1.23-1.13-1.7zM21 20c0 .55-.45 1-1 1h-7l2-2l-.81-2.77l.92-.92L17.79 18l.73-.73l-2.71-2.68c.9-1.03 1.6-2.25 1.92-3.51H19v-1.04h-3.64V9h-1.04v1.04h-1.96L11.18 6H20c.55 0 1 .45 1 1v13z",fill:"currentColor"})],-1),d=(0,r.createElementVNode)("div",{style:{width:"200px",height:"40px","line-height":"40px","text-align":"center","font-size":"14px"}}," 回到顶部 ",-1);function i(e,t,o,i,u,p){const w=(0,r.resolveComponent)("n-number-animation"),h=(0,r.resolveComponent)("n-statistic"),v=(0,r.resolveComponent)("TopMenu"),m=(0,r.resolveComponent)("n-message-provider"),f=(0,r.resolveComponent)("n-icon"),k=(0,r.resolveComponent)("n-input"),_=(0,r.resolveComponent)("MarkPen"),x=(0,r.resolveComponent)("n-space"),g=(0,r.resolveComponent)("n-pagination"),C=(0,r.resolveComponent)("WordCardFall"),V=(0,r.resolveComponent)("n-back-top"),N=(0,r.resolveComponent)("n-checkbox"),y=(0,r.resolveComponent)("n-checkbox-group"),z=(0,r.resolveComponent)("n-card"),B=(0,r.resolveComponent)("n-drawer");return(0,r.openBlock)(),(0,r.createElementBlock)("div",n,[(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("div",{onClick:t[0]||(t[0]=(...e)=>i.replay&&i.replay(...e))},[(0,r.createVNode)(h,{label:"你正在浏览","tabular-nums":""},{suffix:(0,r.withCtx)((()=>[a])),default:(0,r.withCtx)((()=>[(0,r.createVNode)(w,{ref:"numberAnimationInstRef",from:0,to:i.words.length},null,8,["to"])])),_:1})]),(0,r.createVNode)(m,null,{default:(0,r.withCtx)((()=>[(0,r.createVNode)(v,{onCover_words:i.cover_words,onAdd_words:i.add_words,onRepack_words:i.repack_words},null,8,["onCover_words","onAdd_words","onRepack_words"])])),_:1}),(0,r.createVNode)(x,{align:"center",justify:"center",class:"sticky"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(f,{size:"55",onClick:i.activate},{default:(0,r.withCtx)((()=>[c])),_:1},8,["onClick"]),(0,r.createVNode)(f,{size:"50",onClick:i.translate},{default:(0,r.withCtx)((()=>[s])),_:1},8,["onClick"]),(0,r.createVNode)(k,{value:i.keyword,"onUpdate:value":t[1]||(t[1]=e=>i.keyword=e),type:"text",placeholder:"press any word"},null,8,["value"]),(0,r.createVNode)(_,{colors:i.colors,mark:i.mark,onSet_mark:i.set_mark},null,8,["colors","mark","onSet_mark"])])),_:1}),(0,r.createVNode)(g,{page:i.page,"onUpdate:page":t[2]||(t[2]=e=>i.page=e),"page-count":i.pageSize,"show-quick-jumper":"","page-slot":7},null,8,["page","page-count"]),(0,r.createVNode)(m,null,{default:(0,r.withCtx)((()=>[(0,r.createVNode)(C,{words:i.show_words,onApp_mark_word:i.mark_word,colors:i.colors,app_mark:i.mark,onAdd_words:i.add_words,word_num_max:i.word_num_max},null,8,["words","onApp_mark_word","colors","app_mark","onAdd_words","word_num_max"])])),_:1}),(0,r.createVNode)(g,{page:i.page,"onUpdate:page":t[3]||(t[3]=e=>i.page=e),"page-count":i.pageSize,"show-quick-jumper":"","page-slot":7},null,8,["page","page-count"])]),(0,r.createVNode)(V,{bottom:100,show:""},{default:(0,r.withCtx)((()=>[d])),_:1}),(0,r.createVNode)(B,{show:i.active,"onUpdate:show":t[4]||(t[4]=e=>i.active=e),width:502,placement:"left"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(x,null,{default:(0,r.withCtx)((()=>[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(i.tagSets,((e,t)=>((0,r.openBlock)(),(0,r.createBlock)(z,{key:t,title:e.name,style:{width:"500px"}},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(y,{value:e.checked,"onUpdate:value":t=>e.checked=t},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(x,null,{default:(0,r.withCtx)((()=>[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.tags,((e,t)=>((0,r.openBlock)(),(0,r.createBlock)(N,{key:t,value:e,label:e},null,8,["value","label"])))),128))])),_:2},1024)])),_:2},1032,["value","onUpdate:value"])])),_:2},1032,["title"])))),128))])),_:1})])),_:1},8,["show"])])}const u=(0,r.createTextVNode)(" 追加模式 "),p=(0,r.createTextVNode)(" 覆盖模式 "),w=(0,r.createTextVNode)("上传 JSON或XLSX 文件"),h=(0,r.createTextVNode)("下载 JSON 文件"),v={ref:"c0",download:"data.json"};function m(e,t,o,n,l,a){const c=(0,r.resolveComponent)("n-switch"),s=(0,r.resolveComponent)("n-button"),d=(0,r.resolveComponent)("n-upload"),i=(0,r.resolveComponent)("n-space");return(0,r.openBlock)(),(0,r.createBlock)(i,{align:"center"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(c,{"rail-style":e.railStyle,value:e.overlap,"onUpdate:value":t[0]||(t[0]=t=>e.overlap=t)},{unchecked:(0,r.withCtx)((()=>[u])),checked:(0,r.withCtx)((()=>[p])),_:1},8,["rail-style","value"]),(0,r.createVNode)(d,{onBeforeUpload:e.beforeUpload,multiple:"","show-file-list":!1},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(s,null,{default:(0,r.withCtx)((()=>[w])),_:1})])),_:1},8,["onBeforeUpload"]),(0,r.createVNode)(s,{onClick:e.download},{default:(0,r.withCtx)((()=>[h])),_:1},8,["onClick"]),(0,r.withDirectives)((0,r.createElementVNode)("a",v,null,512),[[r.vShow,!1]])])),_:1})}var f=o(1260),k=XLSX,_=(0,r.defineComponent)({emits:["cover_words","add_words","repack_words"],setup(e,t){const o=(0,f.U)(),n=(0,r.ref)(!1);let l=!0;const a=(e,r)=>{let a=e.target.result,c=JSON.parse(a);l&&(l=!1,o.info("第一次上传可能会出现卡顿")),setTimeout((()=>{n.value?t.emit("cover_words",c):t.emit("add_words",c),o.success(`${r} 上传成功`)}),50)},c=(e,r)=>{let l=e.target.result,a=k.read(l,{type:"binary"}),c=prompt(`正在读取文件 ${r}\n请输入数据列编号，使用逗号、分号分割，下面是一个示例\na,b;d,e`);if(null==c)return void o.warning(`已取消导入 ${r}`);c=c.toUpperCase().replace("，",",").replace("；",";");let s=[];c.split(";").forEach((e=>{s.push(e.split(","))})),c=prompt(`正在读取文件 ${r}\n请输入数据标签，使用逗号分割，下面是一个示例\n英语一,2018`);let d=[];null!=c&&(d=c.replace("，",",").split(","));let i=[];for(let t in a.Sheets){let e=a.Sheets[t],o=e["!ref"].split(":"),r=parseInt(o[1].replace(/[a-zA-Z]/g,"")),n=Object.keys(e);s.forEach((t=>{for(let o=1;o<=r;o++){let r=`${t[0]}${o}`,l=`${t[1]}${o}`;if(n.indexOf(r)<0||n.indexOf(l)<0)continue;let a=String(e[r].v),c=String(e[l].v);a.search(/[a-zA-Z]/)>=0&&i.push({en:a,zh:c,tags:d})}}));break}i.length>0?(n.value?t.emit("cover_words",i):t.emit("add_words",i),o.success(`${r} 上传成功`)):o.error("未检测到数据！")},s=async e=>{let t=e.file.file,r=t.name,n=r.replace(/.*\./g,"");if("json"==n){let e=new FileReader;e.onload=e=>a(e,r),e.readAsText(t)}else if("xls"==n||"xlsx"==n){let e=new FileReader;e.onload=e=>c(e,r),e.readAsBinaryString(t)}else o.error("只能上传json、xls或xlsx格式的数据文件，请重新上传");return!1},d=(0,r.ref)(null),i=()=>{var e;t.emit("repack_words",(t=>e=t));const o=new Blob([e]);var r=URL.createObjectURL(o);d.value.href=r,d.value.click(),URL.revokeObjectURL(r)},u=({focused:e,checked:t})=>{const o={};return t?(o.background="#d03050",e&&(o.boxShadow="0 0 0 2px #d0305040")):(o.background="#2080f0",e&&(o.boxShadow="0 0 0 2px #2080f040")),o};return{c0:d,overlap:n,message:o,railStyle:u,deal_json:a,deal_xlsx:c,beforeUpload:s,download:i}}}),x=o(89);const g=(0,x.Z)(_,[["render",m]]);var C=g;const V=e=>((0,r.pushScopeId)("data-v-f5e47510"),e=e(),(0,r.popScopeId)(),e),N=["onClick"],y=V((()=>(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{d:"M3 10h11v2H3v-2zm0-2h11V6H3v2zm0 8h7v-2H3v2zm15.01-3.13l.71-.71a.996.996 0 0 1 1.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71l-2.12-2.12zm-.71.71l-5.3 5.3V21h2.12l5.3-5.3l-2.12-2.12z",fill:"currentColor"})],-1))),z=["color"],B=V((()=>(0,r.createElementVNode)("path",{d:"M24 2H8a2 2 0 0 0-2 2v26l10-5.054L26 30V4a2 2 0 0 0-2-2z",fill:"currentColor"},null,-1))),b=[B],E={color:"black",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},S=V((()=>(0,r.createElementVNode)("path",{d:"M24 4v22.75l-7.1-3.59l-.9-.45l-.9.45L8 26.75V4h16m0-2H8a2 2 0 0 0-2 2v26l10-5l10 5V4a2 2 0 0 0-2-2z",fill:"currentColor"},null,-1))),L=[S],U=["onClick"],M=["href"],Z=["href"],O=V((()=>(0,r.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},[(0,r.createElementVNode)("path",{d:"M20 5h-9.12L10 2H4c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h7l1 3h8c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zM7.17 14.59c-2.25 0-4.09-1.83-4.09-4.09s1.83-4.09 4.09-4.09c1.04 0 1.99.37 2.74 1.07l.07.06l-1.23 1.18l-.06-.05c-.29-.27-.78-.59-1.52-.59c-1.31 0-2.38 1.09-2.38 2.42s1.07 2.42 2.38 2.42c1.37 0 1.96-.87 2.12-1.46H7.08V9.91h3.95l.01.07c.04.21.05.4.05.61c0 2.35-1.61 4-3.92 4zm6.03-1.71c.33.6.74 1.18 1.19 1.7l-.54.53l-.65-2.23zm.77-.76h-.99l-.31-1.04h3.99s-.34 1.31-1.56 2.74c-.52-.62-.89-1.23-1.13-1.7zM21 20c0 .55-.45 1-1 1h-7l2-2l-.81-2.77l.92-.92L17.79 18l.73-.73l-2.71-2.68c.9-1.03 1.6-2.25 1.92-3.51H19v-1.04h-3.64V9h-1.04v1.04h-1.96L11.18 6H20c.55 0 1 .45 1 1v13z",fill:"currentColor"})],-1)));function H(e,t,o,n,l,a){const c=(0,r.resolveComponent)("n-input"),s=(0,r.resolveComponent)("n-icon"),d=(0,r.resolveComponent)("n-space"),i=(0,r.resolveComponent)("n-dynamic-tags"),u=(0,r.resolveComponent)("n-card"),p=(0,r.resolveComponent)("n-modal");return(0,r.openBlock)(),(0,r.createBlock)(d,{justify:"start"},{default:(0,r.withCtx)((()=>[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.words,((o,n)=>((0,r.openBlock)(),(0,r.createBlock)(u,{class:(0,r.normalizeClass)([o.en.length>20?"wide":"thin","word-card"]),key:n,hoverable:""},{header:(0,r.withCtx)((()=>[(0,r.withDirectives)((0,r.createElementVNode)("div",{onClick:t=>e.edit_head_open(n),style:{fontFamily:"Consolas"}},(0,r.toDisplayString)(`${n+1}. `+o.en),9,N),[[r.vShow,e.edit_head!=n]]),(0,r.withDirectives)((0,r.createVNode)(c,{ref_for:!0,ref:e.setHeadRef,onBlur:t[0]||(t[0]=t=>e.edit_head=-1),onKeyup:t[1]||(t[1]=(0,r.withKeys)((t=>e.edit_head=-1),["enter"])),value:o.en,"onUpdate:value":e=>o.en=e,type:"text"},null,8,["value","onUpdate:value"]),[[r.vShow,e.edit_head==n]])])),"header-extra":(0,r.withCtx)((()=>[(0,r.createVNode)(s,{size:"30",onClick:(0,r.withModifiers)((t=>e.open_word(o)),["stop"]),class:(0,r.normalizeClass)(""+(o.note.length>0?"note-icon-show":"note-icon"))},{default:(0,r.withCtx)((()=>[y])),_:2},1032,["onClick","class"]),(0,r.createVNode)(s,{size:"30",onClick:(0,r.withModifiers)((t=>e.mark_word(o)),["stop"])},{default:(0,r.withCtx)((()=>[(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("svg",{color:e.get_color(o.mark),xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},b,8,z)),[[r.vShow,o.mark>0]]),(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("svg",E,L,512)),[[r.vShow,0==o.mark]])])),_:2},1032,["onClick"])])),footer:(0,r.withCtx)((()=>[(0,r.createVNode)(d,null,{default:(0,r.withCtx)((()=>[(0,r.createElementVNode)("a",{href:`https://fanyi.baidu.com/#en/zh/${o.en}`,target:"baidu"},"百度翻译",8,M),(0,r.createElementVNode)("a",{href:`https://translate.google.cn/?sl=en&tl=zh-CN&text=${o.en}&op=translate`,target:"google"},"谷歌翻译",8,Z)])),_:2},1024)])),action:(0,r.withCtx)((()=>[(0,r.createVNode)(d,{justify:"space-between"},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(i,{value:o.tags,"onUpdate:value":e=>o.tags=e},null,8,["value","onUpdate:value"]),(0,r.createVNode)(s,{size:"30",onClick:e=>o.show=!o.show},{default:(0,r.withCtx)((()=>[O])),_:2},1032,["onClick"])])),_:2},1024)])),default:(0,r.withCtx)((()=>[(0,r.withDirectives)((0,r.createElementVNode)("div",{style:(0,r.normalizeStyle)({opacity:o.show?1:0}),onClick:t=>e.edit_text_open(n)},(0,r.toDisplayString)(o.zh),13,U),[[r.vShow,e.edit_text!=n]]),(0,r.withDirectives)((0,r.createVNode)(c,{ref_for:!0,ref:e.setTextRef,onBlur:t[2]||(t[2]=t=>e.edit_text=-1),onKeydown:t[3]||(t[3]=(0,r.withKeys)((t=>e.edit_text=-1),["enter"])),value:o.zh,"onUpdate:value":e=>o.zh=e,type:"text"},null,8,["value","onUpdate:value"]),[[r.vShow,e.edit_text==n]])])),_:2},1032,["class"])))),128)),(0,r.createVNode)(u,{class:"thin word-card",title:"新建",hoverable:"",onClick:e.add_word},{default:(0,r.withCtx)((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(e.words.length==e.word_num_max?"本页已到达上限，点我将在最后一页添加新卡片":"点我添加一个卡片"),1)])),_:1},8,["onClick"]),(0,r.createVNode)(p,{show:e.showModal,"onUpdate:show":t[6]||(t[6]=t=>e.showModal=t)},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(u,{style:{width:"600px"},title:e.word_open.en},{footer:(0,r.withCtx)((()=>[(0,r.createVNode)(i,{value:e.word_open.tags,"onUpdate:value":t[5]||(t[5]=t=>e.word_open.tags=t)},null,8,["value"])])),default:(0,r.withCtx)((()=>[(0,r.createVNode)(c,{class:"note",value:e.word_open.note,"onUpdate:value":t[4]||(t[4]=t=>e.word_open.note=t),type:"textarea",placeholder:"输入笔记",onKeydown:(0,r.withKeys)(e.add_space,["tab"])},null,8,["value","onKeydown"])])),_:1},8,["title"])])),_:1},8,["show"])])),_:1})}var j=(0,r.defineComponent)({props:["words","colors","app_mark","word_num_max"],emits:["app_mark_word","add_words"],setup(e,t){const o=(0,f.U)(),n=(0,r.ref)(-1),l=(0,r.ref)(-1),a=()=>{let r={};e.words.length>0&&e.words.length<e.word_num_max&&(r.tags=e.words[0].tags,r.mark=e.words[0].mark),t.emit("add_words",[r]),o.success("添加新卡片成功！")},c=(0,r.ref)({}),s=(0,r.ref)(!1),d=t=>e.colors[t-1],i=e=>{c.value=e,s.value=!s.value},u=r=>{0==e.app_mark?o.warning("未勾选画笔"):t.emit("app_mark_word",r.num)};let p=(0,r.ref)([]);const w=e=>{e&&p.value.push(e)};let h=(0,r.ref)([]);const v=e=>{e&&h.value.push(e)};(0,r.onBeforeUpdate)((()=>{h=(0,r.ref)([]),p=(0,r.ref)([])}));const m=async e=>{l.value=e,await(0,r.nextTick)(),p.value[e].focus()},k=async e=>{n.value=e,await(0,r.nextTick)(),h.value[e].focus()},_=e=>{e.preventDefault(),c.value.note=c.value.note+"    "};return{add_space:_,setTextRef:w,setHeadRef:v,edit_text_open:m,edit_head_open:k,showModal:s,open_word:i,word_open:c,get_color:d,mark_word:u,add_word:a,edit_head:n,edit_text:l}}});const A=(0,x.Z)(j,[["render",H],["__scopeId","data-v-f5e47510"]]);var T=A;const F={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},R=(0,r.createElementVNode)("g",{fill:"none"},[(0,r.createElementVNode)("path",{d:"M14.5 10a4.5 4.5 0 1 0 0-9a4.5 4.5 0 0 0 0 9zm2.354-5.646l-3 3a.5.5 0 0 1-.708 0l-1-1a.5.5 0 0 1 .708-.708l.646.647l2.646-2.647a.5.5 0 0 1 .708.708z",fill:"currentColor"}),(0,r.createElementVNode)("path",{d:"M14.845 10.99a5.636 5.636 0 0 1-1.085-.04l-3.26 5.561v-5.645a1 1 0 1 0-1 0v5.645L6.216 10.91a1.5 1.5 0 0 1-.062-1.4L7.816 6h1.206a5.57 5.57 0 0 1 0-1H6.5a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 6h.21L5.25 9.08a2.5 2.5 0 0 0 .103 2.335l3.463 5.907a1.373 1.373 0 0 0 2.368 0l3.463-5.907c.08-.137.146-.28.198-.426z",fill:"currentColor"})],-1),D=[R],$={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20"},I=(0,r.createElementVNode)("g",{fill:"none"},[(0,r.createElementVNode)("path",{d:"M6 2.5a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 6h.21L5.25 9.08a2.5 2.5 0 0 0 .103 2.335l3.463 5.907a1.373 1.373 0 0 0 2.368 0l3.463-5.907a2.5 2.5 0 0 0 .102-2.335L13.29 6h.21A1.5 1.5 0 0 0 15 4.5v-2a.5.5 0 0 0-1 0v2a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-2zM12.184 6l1.662 3.509a1.5 1.5 0 0 1-.062 1.4L10.5 16.511v-5.645a1 1 0 1 0-1 0v5.645L6.216 10.91a1.5 1.5 0 0 1-.062-1.4L7.816 6h4.368z",fill:"currentColor"})],-1),K=[I];function P(e,t,o,n,l,a){const c=(0,r.resolveComponent)("n-icon"),s=(0,r.resolveComponent)("n-space");return(0,r.openBlock)(),(0,r.createBlock)(s,null,{default:(0,r.withCtx)((()=>[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.colors,((t,o)=>((0,r.openBlock)(),(0,r.createBlock)(c,{key:o,color:t,size:"35",onClick:t=>e.clickHandle(o)},{default:(0,r.withCtx)((()=>[(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("svg",F,D,512)),[[r.vShow,e.mark==o+1]]),(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("svg",$,K,512)),[[r.vShow,e.mark!=o+1]])])),_:2},1032,["color","onClick"])))),128))])),_:1})}var J=(0,r.defineComponent)({props:["colors","mark"],emits:["set_mark"],setup(e,t){const o=o=>{e.mark==o+1?t.emit("set_mark",0):t.emit("set_mark",o+1)};return{clickHandle:o}}});const X=(0,x.Z)(J,[["render",P]]);var W=X;function q(e){const t=(0,r.reactive)([{name:"标记",tags:["红色","蓝色","橙色","紫色","白色","全部"],checked:["全部"]},{name:"分类",tags:["基础","四级","六级","英语一","英语二","笔记","全部"],checked:["全部"]},{name:"年份",tags:["2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021","全部"],checked:["全部"]}]),o=(0,r.ref)(""),n=["白色","红色","蓝色","橙色","紫色"],l=(e,t)=>{for(let o=0;o<t.length;o++)if(-1!=e.indexOf(t[o]))return!0;return!1},a=(0,r.computed)((()=>{let r=e.value.filter((e=>!(o.value&&e.en.search(o.value)<0)));for(let e=0;e<t.length;e++){let o=t[e].checked;-1==o.indexOf("全部")&&(r="标记"==t[e].name?r.filter((e=>l(o,[n[e.mark]]))):r.filter((e=>l(o,e.tags))))}let a=[];return r.forEach((e=>a.push(e.num))),a}));return{tagSets:t,selected_words:a,keyword:o}}function G(){const e=(0,r.ref)([]),t=t=>{t.forEach((t=>{let o={num:e.value.length,en:"English Word",zh:"中文含义",mark:0,show:!0,tags:[],note:""};o={...o,...t},e.value.push(o)}))},o=o=>{e.value=[],t(o)},n=t=>{let o=[];e.value.forEach((e=>{let t={};Object.keys(e).forEach((o=>{"show"!=o&&"num"!=o&&(e[o]>0||e[o].length>0)&&(t[o]=e[o])})),o.push(t)})),t(JSON.stringify(o))};return{words:e,cover_words:o,add_words:t,repack_words:n}}function Q(e,t,o,n){const l=(0,r.computed)((()=>{let r=t.value-1,l=n.value.slice(e.value*r,e.value*(r+1)),a=[];return l.forEach((e=>{a.push(o.value[e])})),a}));return{show_words:l}}function Y(e,t){const o=(0,r.ref)(1),n=(0,r.computed)((()=>parseInt(Math.max(0,t.value.length-1)/e.value)+1));return(0,r.watch)(n,(()=>{o.value=Math.min(o.value,n.value)})),{page:o,pageSize:n}}var ee={name:"App",components:{TopMenu:C,WordCardFall:T,MarkPen:W},setup(){const e=(0,r.ref)(!1),t=()=>e.value=!0,o=(0,r.ref)(50),{words:n,cover_words:l,add_words:a,repack_words:c}=G(),{tagSets:s,selected_words:d,keyword:i}=q(n),{page:u,pageSize:p}=Y(o,d),{show_words:w}=Q(o,u,n,d),h=(0,r.ref)(null),v=()=>{h.value?.play()},m=(0,r.ref)(1),f=e=>{n.value.some((t=>{if(t.num==e)return t.mark=t.mark==m.value?0:m.value,!0}))},k=(0,r.ref)(!1),_=()=>{n.value.forEach((e=>e.show=k.value)),k.value=!k.value},x=(0,r.ref)(["#d22027","#385989","#fece71","#F25BF2FF"]),g=e=>{m.value=e};return{active:e,activate:t,tagSets:s,keyword:i,words:n,add_words:a,cover_words:l,repack_words:c,show_words:w,word_num_max:o,page:u,pageSize:p,numberAnimationInstRef:h,replay:v,mark:m,mark_word:f,colors:x,set_mark:g,translate:_}}};const te=(0,x.Z)(ee,[["render",i]]);var oe=te,re=o(6542),ne=o(2861),le=o(5377),ae=o(7979),ce=o(7786),se=o(1938),de=o(9522),ie=o(7057),ue=o(3838),pe=o(4786),we=o(1842),he=o(7478),ve=o(3008),me=o(7569),fe=o(6043),ke=o(5326),_e=o(8110),xe=o(1328),ge=o(137),Ce=o(7540);const Ve=(0,re.Z)({components:[ne.Z,le.Z,ae.Z,ce.Z,se.Z,de.ZP,ie.Z,ue.Z,pe.g,we.Z,he.Z,ve.Z,me.Z,fe.Z,ke.Z,_e.Z,xe.Z,ge.Z,Ce.Z]}),Ne=(0,r.createApp)(oe);Ne.use(Ve),Ne.mount("#app")},311:function(e){e.exports=Vue}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,o),l.exports}o.m=e,function(){var e=[];o.O=function(t,r,n,l){if(!r){var a=1/0;for(i=0;i<e.length;i++){r=e[i][0],n=e[i][1],l=e[i][2];for(var c=!0,s=0;s<r.length;s++)(!1&l||a>=l)&&Object.keys(o.O).every((function(e){return o.O[e](r[s])}))?r.splice(s--,1):(c=!1,l<a&&(a=l));if(c){e.splice(i--,1);var d=n();void 0!==d&&(t=d)}}return t}l=l||0;for(var i=e.length;i>0&&e[i-1][2]>l;i--)e[i]=e[i-1];e[i]=[r,n,l]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,l,a=r[0],c=r[1],s=r[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(n in c)o.o(c,n)&&(o.m[n]=c[n]);if(s)var i=s(o)}for(t&&t(r);d<a.length;d++)l=a[d],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(i)},r=self["webpackChunkvue3_word_online"]=self["webpackChunkvue3_word_online"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=o.O(void 0,[998],(function(){return o(3520)}));r=o.O(r)})();